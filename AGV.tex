\section{Autonomous Forklift}
\label{sec:agv}
%
The mobile base is built upon a manual forklift which originally was equipped with motorized forks
and a drive wheel only. The forklift has been retrofitted with a steering mechanism and a commercial
AGV control system which is used to interface the original drive mechanism as well as the steering
servo. To assure safe operation, the vehicle is equipped with a SICK S300 safety laser
scanner\footnote{\url{http://www.sick.com/}} and an industrial prototype system for detecting human
workforce using reflective safety garments as described in Section~\ref{subsec:people_det}.
%
\subsection{Challenges in Autonomous Navigation}
\label{subsec:AGV_challenges}
%
The industry standard for autonomous navigation of forklifts is to use predefined trajectories which
are either manually defined or learned through teaching-by-demonstration from a human
operator~\cite{Hell06, Marsh08}. Although conceptually simple, fixing trajectories limits the pallet
handling to occur only at predefined poses. Also, this only allows for overly simple strategies for
handling unforeseen obstacles. The fundamental difficulties of motion planning for a forklift lie in
the nonholonomic constraints, the large sweep area it needs to occupy (due to its very
non-symmetrical footprint) while operating in a limited work space.

In order to obtain reliable localization in large dynamic warehouses with high accuracy, it is
common to mount reflectors in the environment and to use a dedicated sensing
device~\cite{Hyyp89}. In this fashion, natural navigation has successfully been deployed in smaller
entities where walls are commonly observed. However, without additional infrastructure, navigation
in large and dynamic environments remains a challenge.
%
\subsection{Navigation}
\label{subsec:navigation}
%
The navigation module ensures that the forklift is capable of moving safely and autonomously through
the work space environment to arbitrary load/unload poses with high accuracy. According to the AGV
system provider Kollmorgen\footnote{\url{http://www.kollmorgen.com/}}, the required end pose
accuracy for picking up pallets is $\pm0.03$~m in position and $\pm1$~degree in orientation. The
navigation module comprises trajectory generation, tracking control and a localization system.
 
The online trajectory generation is done in two steps. First, a kinematically feasible path with
discretized start and goal poses is generated using a lattice planner~\cite{Ciri14}. Second, this
path is post-processed using a path smoother~\cite{Andr15} which assures a smooth, collision-free
and continuous trajectory. Subsequently, the obtained trajectory is tracked by a model predictive
controller. For localization, a Velodyne HDL-32 3D laser
scanner\footnote{\url{http://www.velodynelidar.com/}} is utilized to construct a 3D map (using the
3D-NDT-OM map representation) of the static parts of the environment~\cite{Stoy13}. The map and
odometry information is then used to localize the vehicle in the presence of dynamic entities using
a dual timescale approach~\cite{Vale14}. The complete navigation system has been implemented,
extensively tested and successfully integrated on the APPLE demonstrator, a detailed description can
be found in~\cite{Andr15}.

The current system for pallet detection and pickup requires a rough estimate of the location of the
pallet ($i.\,e.,$ a predefined pickup zone). In order to compute the final pose based on sensory
data from an Asus Xtion Pro Live\footnote{\url{http://www.asus.com/Multimedia/Xtion_PRO_LIVE/}}
mounted on the AGV, a Signed Distance Function (SDF) tracker~\cite{Cane13} is used with a predefined
SDF model of the pallet. The tracking is done while driving towards the pickup zone and the
trajectory is recomputed on the fly which, depending on the pose offset, may include a reverse
driving operation.
%
\subsection{People Detection}
\label{subsec:people_det}
%
As the envisioned mobile manipulation system will operate in environments shared with human workers,
people detection and human safety are important issues. In APPLE we address the problem by using the
RefleX system we recently developed~\cite{Mosb14}. RefleX is a camera-based on-board safety system
for industrial vehicles and machinery for detection of human workers wearing reflective vests worn
as per safety regulations (see Fig.~\ref{fig:people_det}). The system was designed with industrial
safety standards in mind and is currently being tested as an industrial prototype.
%
\begin{figure}[t!]
  \begin{center}
    \includegraphics[width =1\linewidth]{figs/person_detection}
    % \vspace{-0.25cm}
    \caption{\textit{People detection:} The developed RefleX camera system allows to detect workers
      in different poses such as standing (Left) or sitting (Right).}
    \label{fig:people_det}
    \vspace{-0.5cm}
  \end{center}
\end{figure}
